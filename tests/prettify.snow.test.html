<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Code Prettifier</title>
<link rel="stylesheet" type="text/css" href="test_styles.css">
<link rel="stylesheet" type="text/css" href="../src/prettify.css">
</head>

<body id="jsMain">
<h1>Test Results</h1>
<div id="report"></div>

<hr>

<h1>Bash</h1>
<pre class="prettyprint" id="bash">#!/bin/bash

# Fibonacci numbers
# Writes an infinite series to stdout, one entry per line
function fib() {
  local a=1
  local b=1
  while true ; do
    echo $a
    local tmp=$a
    a=$(( $a + $b ))
    b=$tmp
  done
}

# output the 10th element of the series and halt
fib | head -10 | tail -1
</pre>

<h1>Bash w/ language specified</h1>
<pre class="prettyprint lang-sh linenums" id="bash_lang">#!/bin/bash

# Fibonacci numbers
# Writes an infinite series to stdout, one entry per line
function fib() {
  local a=1
  local b=1
  while true ; do
    echo $a
    local tmp=$a
    a=$(( $a + $b ))
    b=$tmp
  done
}

# output the 10th element of the series and halt
fib | /usr/bin/*head -10 | tail -1
</pre>

<h1>Bash special characters</h1>
<p><a href="https://github.com/google/code-prettify/issues/165">Issue #165</a></p>
<pre class="prettyprint lang-sh" id="issue_165"># Comment
local $x = ${#x[@]}  # Previous is not a comment
# A comment</pre>

<h1>C</h1>
<pre class="prettyprint" id="c">
#include &lt;stdio.h&gt;

/* the n-th fibonacci number.
 */
unsigned int fib(unsigned int n) {
  unsigned int a = 1, b = 1;
  unsigned int tmp;
  while (--n &gt;= 0) {
    tmp = a;
    a += b;
    b = tmp;
  }
  return a;
}

main() {
  printf("%u", fib(10));
}
</pre>

<h1>C w/ language specified</h1>
<pre class="prettyprint lang-c" id="c_lang">
#include &lt;stdio.h&gt;

/* the n<sup>th</sup> fibonacci number. */
uint32 fib(unsigned int n) {
  uint32 a = 1, b = 1;
  uint32 tmp;
  while (--n &gt;= 0) {
    tmp = a;
    a += b;
    b = tmp;
  }
  return a;
}

void main() {
  size_t size = sizeof(wchar_t);
  ASSERT_EQ(size, 1);
  printf("%u", fib(10));
}

#define ZERO 0 /* a
  multiline comment */
</pre>

<h1>C++</h1>
<pre class="prettyprint" id="cpp">
#include &lt;iostream&gt;

using namespace std;

//! fibonacci numbers with gratuitous use of templates.
//! \param n an index into the fibonacci series
//! \param fib0 element 0 of the series
//! \return the nth element of the fibonacci series
template &lt;class T&gt;
T fib(unsigned int n, const T&amp; fib0) {
  T a(fib0), b(fib0);
  for (; n; --n) {
    T tmp(a);
    a += b;
    b = tmp;
  }
  return a;
}

int main(int argc, char **argv) {
  cout &lt;&lt; fib(10, 1U);
}
</pre>

<h1>C++ w/ language specified</h1>
<pre class="prettyprint lang-cc" id="cpp_lang">
#include &lt;iostream&gt;

using namespace std;

//! fibonacci numbers with gratuitous use of templates.
//! \param n an index into the fibonacci series
//! \param fib0 element 0 of the series
//! \return the nth element of the fibonacci series
template &lt;class T&gt;
T fib(int n, const T&amp; fib0) {
  T a(fib0), b(fib0);
  while (--n &gt;= 0) {
    T tmp(a);
    a += b;
    b = tmp;
  }
  return a;
}

int main(int argc, char **argv) {
  cout &lt;&lt; fib(10, 1U);
}
</pre>

<h1>Java</h1>
<pre class="prettyprint" id="java">
package foo;

import java.util.Iterator;

/**
 * the fibonacci series implemented as an Iterable.
 */
public final class Fibonacci implements Iterable&lt;Integer&gt; {
  /** the next and previous members of the series. */
  private int a = 1, b = 1;

  @Override
  public Iterator&lt;Integer&gt; iterator() {
    return new Iterator&lt;Integer&gt;() {
      /** the series is infinite. */
      public boolean hasNext() { return true; }
      public Integer next() {
        int tmp = a;
        a += b;
        b = tmp;
        return a;
      }
      public void remove() { throw new UnsupportedOperationException(); }
    };
  }

  /**
   * the n&lt;sup&gt;th&lt;/sup&gt; element of the given series.
   * @throws NoSuchElementException if there are less than n elements in the
   *   given Iterable's {@link Iterable#iterator iterator}.
   */
  public static &lt;T&gt;
  T nth(int n, Iterable&lt;T&gt; iterable) {
    Iterator&lt;? extends T&gt; it = iterable.iterator();
    while (--n &gt; 0) {
      it.next();
    }
    return it.next();
  }

  public static void main(String[] args) {
    System.out.print(nth(10, new Fibonacci()));
  }
}
</pre>

<h1>Java w/ language specified</h1>
<p>(first line shown is line 12)</p>
<pre class="prettyprint lang-java linenums:12" id="java_lang">
package foo;

import java.util.Iterator;

/**
 * the fibonacci series implemented as an Iterable.
 */
public final class Fibonacci implements Iterable&lt;Integer&gt; {
  /** the next and previous members of the series. */
  private int a = 1, b = 1;

  @Override
  public Iterator&lt;Integer&gt; iterator() {
    return new Iterator&lt;Integer&gt;() {
      /** the series is infinite. */
      public boolean hasNext() { return true; }
      public Integer next() {
        int tmp = a;
        a += b;
        b = tmp;
        return a;
      }
      public void remove() { throw new UnsupportedOperationException(); }
    };
  }

  /**
   * the n&lt;sup&gt;th&lt;/sup&gt; element of the given series.
   * @throws NoSuchElementException if there are less than n elements in the
   *   given Iterable's {@link Iterable#iterator iterator}.
   */
  public static &lt;T&gt;
  T nth(int n, Iterable&lt;T&gt; iterable) {
    Iterator&lt;? extends T&gt; in = iterable.iterator();
    while (--n &gt; 0) {
      in.next();
    }
    return in.next();
  }

  public static void main(String[] args) {
    System.out.print(nth(10, new Fibonacci()));
  }
}

# not a java comment
# not keywords: static_cast and namespace
</pre>

<h1>JavaScript</h1>
<pre class="prettyprint" id="javascript">
/**
 * nth element in the fibonacci series.
 * @param n &gt;= 0
 * @return the nth element, &gt;= 0.
 */
function fib(n) {
  var a = 1, b = 1;
  var tmp;
  while (--n &gt;= 0) {
    tmp = a;
    a += b;
    b = tmp;
  }
  return a;
}

document.write(fib(10));
</pre>

<h1>JavaScript Regular Expressions</h1>
<p><a href="https://github.com/google/code-prettify/issues/12">Issue #12</a></p>
<pre class="prettyprint" id="js_regexp">
/foo/;  // a slash starting a line treated as a regexp beginning
"foo".match(/fo+$/);
// this line comment not treated as a regular expressions
"foo /bar/".test(/"baz"/);  // test string and regexp boundaries
var division = /\b\d+\/\d+/g;  // test char sets and escaping of specials
var allSpecials = /([^\(\)\[\]\{\}\-\?\+\*\.\^\$\/]+)\\/;
var slashInCharset = /[^/]/g, notCloseSq = /[^\]]/;

// test that slash used in numeric context treated as an operator
1 / 2;
1. / x;
x / y;
(x) / y;
1 /* foo */ / 2;
1 /* foo *// 2;
1/2;
1./x;
x/y;
(x)/y;

// test split over two lines.  line comment should not fool it
1//
/2;

x++/y;
x--/y;
x[y] / z;
f() / n;

// test that slash after non postfix operator is start of regexp
log('matches = ' + /foo/.test(foo));

// test keyword preceders
return /a regexp/;
division = notreturn / not_a_regexp / 2;  // keyword suffix does not match

// &amp; not used as prefix operator in javascript but this should still work
&amp;/foo/;

extends = /extends/;
</pre>
<script type="text/javascript" src="./prettify.snow.js"></script>
</body>
</html>
